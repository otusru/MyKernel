* **IDT, ISR –∏ IRQ —Ç–∞–±–ª–∏—Ü**
* **–û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ**
* **–ü—Ä–æ—Å—Ç–µ–π—à–µ–≥–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ (`malloc`/`free`)**
* **–î—Ä–∞–π–≤–µ—Ä–æ–≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ —Ç–∞–π–º–µ—Ä–∞ (IRQ1 –∏ IRQ0)**

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mykernel/
‚îú‚îÄ‚îÄ boot/
‚îÇ   ‚îú‚îÄ‚îÄ boot.asm            ‚Üê –ê—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ boot.h              ‚Üê –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∑—á–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ linker.ld           ‚Üê –°–∫—Ä–∏–ø—Ç –ª–∏–Ω–∫–æ–≤—â–∏–∫–∞
‚îú‚îÄ‚îÄ kernel/
‚îÇ   ‚îú‚îÄ‚îÄ kernel.c            ‚Üê –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —è–¥—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ memory.c            ‚Üê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
‚îÇ   ‚îú‚îÄ‚îÄ scheduler.c         ‚Üê –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
‚îÇ   ‚îú‚îÄ‚îÄ interrupt.c         ‚Üê –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ keyboard.c          ‚Üê –î—Ä–∞–π–≤–µ—Ä –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ timer.c             ‚Üê –î—Ä–∞–π–≤–µ—Ä —Ç–∞–π–º–µ—Ä–∞
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ string.c            ‚Üê –°—Ç—Ä–æ–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ memory.c            ‚Üê –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞–º—è—Ç—å—é
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îú‚îÄ‚îÄ kernel.h            ‚Üê –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ memory.h            ‚Üê –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é
‚îÇ   ‚îú‚îÄ‚îÄ scheduler.h         ‚Üê –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ interrupt.h         ‚Üê –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ io.h                ‚Üê –í–≤–æ–¥/–≤—ã–≤–æ–¥
‚îú‚îÄ‚îÄ Makefile                ‚Üê –§–∞–π–ª —Å–±–æ—Ä–∫–∏
‚îî‚îÄ‚îÄ README.md               ‚Üê –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

````markdown
# MyKernel

–≠—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —è–¥—Ä–æ, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è. –û–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:

- –†–µ–∞–ª–∏–∑–∞—Ü–∏—é IDT, ISR –∏ IRQ —Ç–∞–±–ª–∏—Ü
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å –æ—á–µ—Ä–µ–¥—å—é –∑–∞–¥–∞—á
- –ü—Ä–æ—Å—Ç–µ–π—à–µ–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –î—Ä–∞–π–≤–µ—Ä—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ —Ç–∞–π–º–µ—Ä–∞

## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

   ```bash
   sudo apt-get install build-essential nasm grub-pc-bin qemu
````

2. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:

   ```bash
   make
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —è–¥—Ä–æ –≤ QEMU:

   ```bash
   make run
   ```

   –≠—Ç–æ –æ—Ç–∫—Ä–æ–µ—Ç QEMU —Å –≤–∞—à–∏–º —è–¥—Ä–æ–º.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

* `boot/`: –ê—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è GRUB.
* `kernel/`: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —è–¥—Ä–∞, –≤–∫–ª—é—á–∞—è –æ–±—Ä–∞–±–æ—Ç–∫—É –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π, –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏ –¥—Ä–∞–π–≤–µ—Ä—ã.
* `lib/`: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é.
* `include/`: –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —è–¥—Ä–∞.
* `Makefile`: –§–∞–π–ª —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.


## üß™ –ó–∞–ø—É—Å–∫ –≤ QEMU

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `make run` –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –æ–∫–Ω–æ QEMU, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω–æ –≤–∞—à–µ —è–¥—Ä–æ. –í—ã —Å–º–æ–∂–µ—Ç–µ –Ω–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –µ–≥–æ —Ä–∞–±–æ—Ç–æ–π –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –Ω–∏–º.

```
## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. –ó–∞–≥—Ä—É–∑—á–∏–∫ (Bootloader)

boot.asm: –ê—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ä–µ–¥—É –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —è–¥—Ä–∞.
linker.ld: –°–∫—Ä–∏–ø—Ç –ª–∏–Ω–∫–æ–≤—â–∏–∫–∞, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π –≤ –ø–∞–º—è—Ç–∏.

2. –Ø–¥—Ä–æ (Kernel)

kernel.c: –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —è–¥—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫.
memory.c: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é, –≤–∫–ª—é—á–∞—è —Ñ–∏–∑–∏—á–µ—Å–∫—É—é –ø–∞–º—è—Ç—å –∏ —Å—Ç—Ä–∞–Ω–∏—á–Ω—É—é –∞–¥—Ä–µ—Å–∞—Ü–∏—é.
scheduler.c: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å.
interrupt.c: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π, –≤–∫–ª—é—á–∞—è —Ç–∞–π–º–µ—Ä –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É.
keyboard.c: –î—Ä–∞–π–≤–µ—Ä –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π –≤–≤–æ–¥ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã.
timer.c: –î—Ä–∞–π–≤–µ—Ä —Ç–∞–π–º–µ—Ä–∞, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∏–π –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞.

3. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ (lib)
string.c: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.
memory.c: –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é, —Ç–∞–∫–∏–µ –∫–∞–∫ memcpy, memset.

4. –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã (include)

kernel.h: –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.
memory.h: –ü—Ä–æ—Ç–æ—Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é.
scheduler.h: –ü—Ä–æ—Ç–æ—Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞.
interrupt.h: –ü—Ä–æ—Ç–æ—Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π.
io.h: –ü—Ä–æ—Ç–æ—Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞.

```
